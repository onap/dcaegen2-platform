<?xml version="1.0" encoding="UTF-8"?>

<!--  NOTE: This is using the concise, not strict, log4j2 XML format  -->

<Configuration>
	<Appenders>
		<RollingFile name="ECOMP_AUDIT" fileName="/opt/logs/dcae/dti/audit.log" filePattern="/opt/logs/dcae/dti/audit-%d{yyyy-MM-dd}-%i.log">
	 		<PatternLayout pattern="%d{yyyy-MM-dd'T'HH:mm:ss}{GMT+0}+00:00|%X{requestId}|%X{serviceInstanceId}|%-10t|%X{serverName}|%X{serviceName}|%X{instanceUuid}|%p|%X{severity}|%X{serverIpAddress}|%X{server}|%X{ipAddress}|%X{className}|%X{timer}|%m%n"/>
	 		<Policies>
	 			<SizeBasedTriggeringPolicy size="50 MB" />
	 		</Policies>
	 		<DefaultRolloverStrategy max="20"/>
 		</RollingFile>
		<RollingFile name="ECOMP_ERROR" fileName="/opt/logs/dcae/dti/error.log" filePattern="/opt/logs/dcae/dti/error-%d{yyyy-MM-dd}-%i.log">
	 		<PatternLayout pattern="%d{yyyy-MM-dd'T'HH:mm:ss}{GMT+0}+00:00|%X{requestId}|%X{serviceInstanceId}|%-10t|%X{serverName}|%X{serviceName}|%X{instanceUuid}|%p|%X{severity}|%X{serverIpAddress}|%X{server}|%X{ipAddress}|%X{className}|%X{timer}|%m%n"/>
	 		<Policies>
	 			<SizeBasedTriggeringPolicy size="50 MB" />
	 		</Policies>
	 		<DefaultRolloverStrategy max="20"/>
 		</RollingFile>
 		<RollingFile name="ECOMP_METRICS" fileName="/opt/logs/dcae/dti/metrics.log" filePattern="/opt/logs/dcae/dti/metrics-%d{yyyy-MM-dd}-%i.log">
	 		<PatternLayout pattern="%d{yyyy-MM-dd'T'HH:mm:ss}{GMT+0}+00:00|%X{requestId}|%X{serviceInstanceId}|%-10t|%X{serverName}|%X{serviceName}|%X{instanceUuid}|%p|%X{severity}|%X{serverIpAddress}|%X{server}|%X{ipAddress}|%X{className}|%X{timer}|%m%n"/>
	 		<Policies>
	 			<SizeBasedTriggeringPolicy size="50 MB" />
	 		</Policies>
	 		<DefaultRolloverStrategy max="20"/>
 		</RollingFile>
 		<RollingFile name="ECOMP_DEBUG" fileName="/opt/logs/dcae/dti/debug.log" filePattern="/opt/logs/dcae/dti/debug-%d{yyyy-MM-dd}-%i.log">
	 		<PatternLayout pattern="%d{yyyy-MM-dd'T'HH:mm:ss}{GMT+0}+00:00|%X{requestId}|%X{serviceInstanceId}|%-10t|%X{serverName}|%X{serviceName}|%X{instanceUuid}|%p|%X{severity}|%X{serverIpAddress}|%X{server}|%X{ipAddress}|%X{className}|%X{timer}|%m%n"/>
	 		<Policies>
	 			<SizeBasedTriggeringPolicy size="50 MB" />
	 		</Policies>
	 		<DefaultRolloverStrategy max="20"/>
 		</RollingFile>
		<!-- <File name="ECOMP_AUDIT" filename="/opt/logs/dcae/dti/audit.log" append="true" bufferedIO="true">
			<PatternLayout pattern="%d{yyyy-MM-dd'T'HH:mm:ss}{GMT+0}+00:00|%X{requestId}|%X{serviceInstanceId}|%-10t|%X{serverName}|%X{serviceName}|%X{instanceUuid}|%p|%X{severity}|%X{serverIpAddress}|%X{server}|%X{ipAddress}|%X{className}|%X{timer}|%m%n"/>
		</File>
		<File name="ECOMP_ERROR" filename="/opt/logs/dcae/dti/error.log" append="true" bufferedIO="true">
			<PatternLayout pattern="%d{yyyy-MM-dd'T'HH:mm:ss}{GMT+0}+00:00|%X{requestId}|%X{serviceInstanceId}|%-10t|%X{serverName}|%X{serviceName}|%X{instanceUuid}|%p|%X{severity}|%X{serverIpAddress}|%X{server}|%X{ipAddress}|%X{className}|%X{timer}|%m%n"/>
		</File>
		<File name="ECOMP_METRICS" filename="/opt/logs/dcae/dti/metrics.log" append="true" bufferedIO="true">			
			<PatternLayout pattern="%d{yyyy-MM-dd'T'HH:mm:ss}{GMT+0}+00:00|%X{requestId}|%X{serviceInstanceId}|%-10t|%X{serverName}|%X{serviceName}|%X{instanceUuid}|%p|%X{severity}|%X{serverIpAddress}|%X{server}|%X{ipAddress}|%X{className}|%X{timer}|%m%n"/>
		</File>
		<File name="ECOMP_DEBUG" filename="/opt/logs/dcae/dti/debug.log" append="true" bufferedIO="true">		
			<PatternLayout pattern="%d{yyyy-MM-dd'T'HH:mm:ss}{GMT+0}+00:00|%X{requestId}|%X{serviceInstanceId}|%-10t|%X{serverName}|%X{serviceName}|%X{instanceUuid}|%p|%X{severity}|%X{serverIpAddress}|%X{server}|%X{ipAddress}|%X{className}|%X{timer}|%m%n"/>
		</File> -->
		<!-- <Console name="STDOUT" target="SYSTEM_OUT">
			<PatternLayout pattern="[%d{ISO8601}{GMT+0} GMT][%-10t][%-5p][%X{serverName}:%X{serverIp}]%m%n"/>
		</Console> -->
	</Appenders>	
	<Loggers>
		<Logger name="ECOMP_ERROR" level="debug" additivity="false">
			<AppenderRef ref = "ECOMP_ERROR"/>
		</Logger>
		<Logger name="ECOMP_AUDIT" level="debug" additivity="false">
			<AppenderRef ref = "ECOMP_AUDIT"/>
		</Logger>
		<Logger name="ECOMP_METRICS" level="debug" additivity="false">
			<AppenderRef ref = "ECOMP_METRICS"/>
		</Logger>
		<Logger name="ECOMP_DEBUG" level="debug" additivity="false">
			<AppenderRef ref = "ECOMP_DEBUG"/>
		</Logger>
		
		<Root level="debug">
			<AppenderRef ref="ECOMP_ERROR"/>
			<AppenderRef ref="ECOMP_AUDIT"/>
			<AppenderRef ref="ECOMP_DEBUG"/>
			<AppenderRef ref="ECOMP_METRICS"/>
		</Root>
	</Loggers>
</Configuration>
